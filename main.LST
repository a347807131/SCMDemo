C51 COMPILER V9.52.0.0   MAIN                                                              10/05/2017 15:23:20 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\OpenSources\keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include "reg52.h"
   2          unsigned char Count;
   3          sbit _Speak =P1^5 ;
   4          unsigned char code SONG[] ={      //????
   5          0x26,0x20,0x20,0x20,0x20,0x20,0x26,0x10,0x20,0x10,0x20,0x80,0x26,0x20,0x30,0x20,
   6          0x30,0x20,0x39,0x10,0x30,0x10,0x30,0x80,0x26,0x20,0x20,0x20,0x20,0x20,0x1c,0x20,
   7          0x20,0x80,0x2b,0x20,0x26,0x20,0x20,0x20,0x2b,0x10,0x26,0x10,0x2b,0x80,0x26,0x20,
   8          0x30,0x20,0x30,0x20,0x39,0x10,0x26,0x10,0x26,0x60,0x40,0x10,0x39,0x10,0x26,0x20,
   9          0x30,0x20,0x30,0x20,0x39,0x10,0x26,0x10,0x26,0x80,0x26,0x20,0x2b,0x10,0x2b,0x10,
  10          0x2b,0x20,0x30,0x10,0x39,0x10,0x26,0x10,0x2b,0x10,0x2b,0x20,0x2b,0x40,0x40,0x20,
  11          0x20,0x10,0x20,0x10,0x2b,0x10,0x26,0x30,0x30,0x80,0x18,0x20,0x18,0x20,0x26,0x20,
  12          0x20,0x20,0x20,0x40,0x26,0x20,0x2b,0x20,0x30,0x20,0x30,0x20,0x1c,0x20,0x20,0x20,
  13          0x20,0x80,0x1c,0x20,0x1c,0x20,0x1c,0x20,0x30,0x20,0x30,0x60,0x39,0x10,0x30,0x10,
  14          0x20,0x20,0x2b,0x10,0x26,0x10,0x2b,0x10,0x26,0x10,0x26,0x10,0x2b,0x10,0x2b,0x80,
  15          0x18,0x20,0x18,0x20,0x26,0x20,0x20,0x20,0x20,0x60,0x26,0x10,0x2b,0x20,0x30,0x20,
  16          0x30,0x20,0x1c,0x20,0x20,0x20,0x20,0x80,0x26,0x20,0x30,0x10,0x30,0x10,0x30,0x20,
  17          0x39,0x20,0x26,0x10,0x2b,0x10,0x2b,0x20,0x2b,0x40,0x40,0x10,0x40,0x10,0x20,0x10,
  18          0x20,0x10,0x2b,0x10,0x26,0x30,0x30,0x80,0x00};
  19          
  20          void Time0_Init()
  21          {
  22   1      TMOD = 0x01;
  23   1      IE   = 0x82;
  24   1      TH0  = 0xD8;
  25   1      TL0  = 0xEF;  //12MZ??,10ms
  26   1      }
  27          
  28          void Time0_Int() interrupt 1
  29          {
  30   1      TH0 = 0xD8;
  31   1      TL0 = 0xEF;
  32   1      Count++;   //???1
  33   1      }
  34          
  35          /*-------------------------------------------------
  36          ??:1MS?????
  37          -------------------------------------------------*/
  38          void Delay_xMs(unsigned int x)
  39          {
  40   1          unsigned int i,j;
  41   1          for( i =0;i < x;i++ )
  42   1          {
  43   2              for( j =0;j<3;j++ );
  44   2          }
  45   1      }
  46          
  47          void Play_Song(unsigned char i)
  48          {
  49   1      unsigned char Temp1,Temp2;
  50   1      unsigned int Addr;
  51   1      Count = 0;      //??????0
  52   1      Addr = i * 217;
  53   1      while(1)
  54   1      {
  55   2        Temp1 = SONG[Addr++];
C51 COMPILER V9.52.0.0   MAIN                                                              10/05/2017 15:23:20 PAGE 2   

  56   2           if ( Temp1 == 0xFF )          //???
  57   2           {
  58   3            TR0 = 0;
  59   3            Delay_xMs(100);
  60   3           }
  61   2           else if ( Temp1 == 0x00 )   //?????
  62   2           {
  63   3            return;
  64   3           }
  65   2           else
  66   2           {
  67   3            Temp2 = SONG[Addr++];
  68   3            TR0 = 1;
  69   3           while(1)
  70   3           {
  71   4             _Speak = ~_Speak;
  72   4             Delay_xMs(Temp1);
  73   4             if ( Temp2 == Count )
  74   4             {
  75   5              Count = 0;
  76   5              break;
  77   5             }
  78   4            }
  79   3           }
  80   2      }
  81   1      }
  82          /*-------------------------------------------------
  83          ??:???
  84          -------------------------------------------------*/
  85          void main()
  86          {
  87   1      Time0_Init();   //???0?????
  88   1      while(1)
  89   1      {
  90   2        Play_Song(0);  //??
  91   2      }
  92   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    163    ----
   CONSTANT SIZE    =    217    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
